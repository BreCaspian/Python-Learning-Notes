# IO多路复用

同时监控多个IO事件，当哪个IO事件准备就绪就执行哪个IO事件。以此形成可以同时处理多个IO的行为，避免一个IO阻塞造成其他IO均无法执行，提高了IO执行效率。

```python
import select
import socket

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.setblocking(False)
server.bind(('127.0.0.1', 8001))
server.listen(5)
read_list = [server]
while True:
    r_list, w_list, x_list = select.select(read_list, [], [])
    print(r_list)
    for i in r_list:
        if i is server:
            conn, addr = i.accept() 
            read_list.append(conn)
        else:
            try:
                data = i.recv(1024)
                print(data)
            except Exception:
                i.close()
                read_list.remove(i)
                continue
            i.send(data.upper())
import socket

client = socket.socket()
client.connect(('127.0.0.1', 8001))
while True:
    client.send(b'hello world')
    data = client.recv(1024)
    print(data)
```