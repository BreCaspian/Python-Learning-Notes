# 文件操作

## 1. 绝对路径与相对路径

- 绝对路径：总是从根文件夹开始，Window 系统中以盘符（C：、D：）作为根文件夹。
- 相对路径：指的是文件相对于当前工作目录所在的位置。



## 2. 打开文件

```python
file_object = open(file_name, access_mode='r', buffering=-1，encoding=None)
# 功能：打开一个文件，返回一个文件对象。
# 参数：file_name  文件名；
#     access_mode  打开文件的方式,如果不写默认为‘r’ 
#     buffering  1表示有行缓冲，默认则表示使用系统默认提供的缓冲机制。
#     encoding='UTF-8'  设置打开文件的编码方式
# 返回值：成功返回文件操作对象。
```

| 打开模式 |                          效果                          |
| :------: | :----------------------------------------------------: |
|    r     |               以读方式打开，文件必须存在               |
|    w     |    以写方式打开，文件不存在则创建，存在清空原有内容    |
|    a     | 以追加模式打开，文件不存在则创建，存在则继续进行写操作 |
|    r+    |              以读写模式打开 文件必须存在               |
|    w+    |   以读写模式打开文件，不存在则创建，存在清空原有内容   |
|    a+    | 追加并可读模式，文件不存在则创建，存在则继续进行写操作 |
|    rb    |                 以二进制读模式打开 同r                 |
|    wb    |                 以二进制写模式打开 同w                 |
|    ab    |                以二进制追加模式打开 同a                |
|   rb+    |               以二进制读写模式打开 同r+                |
|   wb+    |               以二进制读写模式打开 同w+                |
|   ab+    |               以二进制读写模式打开 同a+                |



## 3. 读取文件

```python
# 功能： 来直接读取文件中字符。
# 返回值： 返回读取到的内容
read()
# 功能： 用来读取文件中一行
# 返回值： 返回读取到的内容
readline()
# 功能： 读取文件中的每一行作为列表中的一项
# 返回值： 返回读取到的内容列表
readlines([sizeint])
# 文件对象本身也是一个可迭代对象，在for循环中可以迭代文件的每一行。
for line in f:
     print(line)
```

## 4. 写入文件

```python
# 功能: 把文本数据或二进制数据块的字符串写入到文件中去
# 参数：要写入的内容
# 返回值：写入的字符个数
write(data)
# 功能：接受一个字符串列表作为参数，将它们写入文件。
# 参数: 要写入的内容列表
writelines(str_list)
```

## 5. 关闭文件

打开一个文件后我们就可以通过文件对象对文件进行操作了，当操作结束后可以关闭文件操作

```python
file_object.close()
```

- 可以销毁对象节省资源
- 防止后面对这个对象的误操作。

## 6. with操作

python中的with语句也可以用于访问文件，在语句块结束后会自动释放资源。

```python
with open('file','r') as f:
    f.read()
```

## 7. 缓冲区

系统自动的在内存中为每一个正在使用的文件开辟一个空间，在对文件读写时都是先将文件内容加载到缓冲区，再进行读写。

1. 减少和磁盘的交互次数，保护磁盘。
2. 提高了对文件的读写效率。

刷新缓冲区条件

1. 缓冲区被写满
2. 程序执行结束或者文件对象被关闭
3. 程序中调用flush()函数

```python
file_obj.flush()
```

